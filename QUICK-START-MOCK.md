# Quick Start with Mock Data (无后端开发指南)

## 快速启动 (3分钟)

### 步骤 1: 配置环境变量

```bash
# 复制环境变量示例文件
cp .env.example .env.local

# 编辑 .env.local 文件
# 设置 VITE_USE_MOCK=true
```

在 `.env.local` 文件中添加或修改:

```bash
VITE_USE_MOCK=true
```

### 步骤 2: 安装依赖并启动

```bash
# 安装依赖（如果还没有安装）
npm install

# 启动开发服务器
npm run dev
```

### 步骤 3: 访问应用

打开浏览器访问: `http://localhost:5173`

## 登录凭据

### 普通用户
- 邮箱: `user@example.com`
- 密码: `P@ssw0rd!`
- 余额: $1,000

### 管理员
- 邮箱: `admin@example.com`
- 密码: `P@ssw0rd!`
- 权限: 完整管理权限

## 可用功能

### 用户端 ✅
- ✅ 查看套餐列表（3个套餐）
- ✅ 查看我的订阅（1个活跃订阅）
- ✅ 查看订单历史（2个订单）
- ✅ 查看公告（3条公告）
- ✅ 查看节点状态（4个节点）
- ✅ 查看账户余额

### 管理端 ✅
- ✅ 套餐管理（创建、编辑）
- ✅ 公告管理（创建、编辑、发布）
- ✅ 订阅模板管理（创建、编辑、发布）
- ✅ 订单管理（标记支付、取消）
- ✅ 安全配置（API设置、加密配置）
- ✅ 节点管理（查看状态）

## 功能演示场景

### 场景 1: 创建新套餐

```bash
1. 登录管理员账户
2. 访问 /admin/plans
3. 点击"Create Plan"按钮
4. 填写套餐信息:
   - 名称: "Test Plan"
   - 价格: 1999 (cents = $19.99)
   - 货币: USD
   - 时长: 30 天
   - 流量: 100GB
   - 设备数: 5
5. 点击"Create"保存
6. 新套餐立即出现在列表中
```

### 场景 2: 发布公告

```bash
1. 访问 /admin/announcements
2. 点击"Create Announcement"
3. 填写:
   - 标题: "系统升级通知"
   - 内容: "系统将于本周末升级..."
   - 类别: Maintenance
   - 受众: All
4. 点击"Create"创建草稿
5. 点击"Publish"按钮发布
6. 设置过期时间（可选）
7. 确认发布
```

### 场景 3: 处理订单

```bash
1. 访问 /admin/orders
2. 找到待支付订单（ORD-2024-002）
3. 点击"Mark Paid"按钮
4. 选择支付方式: Manual
5. 输入交易参考ID（可选）
6. 点击"Mark as Paid"
7. 订单状态更新为"已支付"
```

### 场景 4: 配置安全设置

```bash
1. 访问 /admin/security
2. 启用"Enable Third-Party API Access"
3. 点击"Generate"生成API Key
4. 点击"Generate"生成API Secret
5. 选择加密算法: HMAC-SHA256
6. 设置Nonce TTL: 300秒
7. 点击"Save Settings"保存
```

## 数据说明

### 预置数据概览

| 数据类型 | 数量 | 说明 |
|---------|------|------|
| 用户 | 2 | 1个普通用户 + 1个管理员 |
| 套餐 | 3 | Starter, Professional, Enterprise |
| 订阅 | 1 | Professional套餐，剩余20天 |
| 订单 | 2 | 1已支付 + 1待支付 |
| 公告 | 3 | 2已发布 + 1草稿 |
| 节点 | 4 | 3在线 + 1维护中 |
| 模板 | 3 | 2已发布 + 1草稿 |

### 数据特性

- ✅ **真实感**: 所有数据模拟真实场景
- ✅ **完整性**: 包含所有必需字段
- ✅ **关联性**: 数据之间存在合理关联
- ✅ **多样性**: 包含不同状态的数据
- ✅ **可操作**: 支持所有CRUD操作

## 注意事项

### 数据持久性

⚠️ **重要**: Mock数据存储在浏览器内存中

- ❌ 刷新页面后数据**会重置**
- ❌ 不支持真实的文件上传
- ❌ 不会保存到数据库
- ✅ 适合前端开发和演示
- ✅ 适合UI测试

### 限制说明

1. **无真实网络**: 请求不会发送到后端服务器
2. **无数据库**: 所有数据在内存中
3. **会话重置**: 页面刷新后恢复初始状态
4. **基础搜索**: 搜索功能为简单匹配
5. **简单分页**: 分页数据为模拟

## 切换到真实后端

当后端服务准备好后，切换步骤:

### 1. 修改环境变量

编辑 `.env.local`:

```bash
# 禁用Mock模式
VITE_USE_MOCK=false

# 配置后端地址
VITE_API_BASE_URL=http://localhost:8888
VITE_API_PREFIX=/api/v1
VITE_ADMIN_PREFIX=admin
```

### 2. 重启开发服务器

```bash
# 停止当前服务器 (Ctrl+C)
# 重新启动
npm run dev
```

### 3. 验证连接

- 登录时应连接到真实后端
- 检查浏览器Network面板
- 确认API请求发送到配置的后端地址

## 常见问题

### Q: 为什么刷新后数据消失了？

A: Mock数据存储在内存中，刷新页面会重置。这是设计行为，适合开发测试。

### Q: 可以修改Mock数据吗？

A: 可以！编辑 `src/mock/data.ts` 文件，修改或添加数据，然后重启开发服务器。

### Q: 如何添加更多测试数据？

A: 在 `src/mock/data.ts` 中添加新的数据对象到对应的数组中。

### Q: Mock模式下可以测试所有功能吗？

A: 可以测试所有已实现的API功能（13个写入端点，100%覆盖），但不包括文件上传和实时通知。

### Q: 如何知道当前是否在Mock模式？

A: 查看浏览器控制台，所有请求会显示 `[MOCK]` 前缀。

## 开发建议

### 推荐工作流程

1. ✅ **启用Mock模式**开始UI开发
2. ✅ **完成UI功能**和交互逻辑
3. ✅ **本地测试**所有用户流程
4. ✅ **切换真实后端**进行集成测试
5. ✅ **修复集成问题**
6. ✅ **部署上线**

### 最佳实践

- 📋 使用Mock数据快速迭代UI
- 🔄 定期切换到真实后端测试
- 📝 记录Mock数据的修改
- 🧪 创建各种测试场景的数据
- 🚀 开发完成后验证真实后端

## 获取帮助

- 📖 详细文档: `MOCK-DATA-SETUP.md`
- 🔧 API文档: `frontend-guide.md`
- 📊 项目分析: `PROJECT-ANALYSIS.md`
- 🗺️ 开发路线: `ROADMAP.md`

---

**快速开始时间**: < 3分钟  
**Mock覆盖率**: 100% (所有已实现功能)  
**适用场景**: 前端开发、UI测试、功能演示  
**状态**: ✅ 完全可用
